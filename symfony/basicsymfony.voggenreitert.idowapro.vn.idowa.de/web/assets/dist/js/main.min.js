+function(e){function t(){var t=[];c.find('input[type="checkbox"]:checked').each(function(){t.push(e(this).data("user"))}),e("#user_delete_form_selectedusers").val(t),e('form[name="user_delete_form"]').submit()}function n(e){e=e.trim(),e.length>2?(f=!0,o(e)):f&&0===e.length&&(f=!1,o(e))}function o(t){e.ajax({url:u,data:{search:t},type:"POST",success:function(e){e.nochange||(c.html(e),d=document.body.offsetHeight,b=!1)},error:function(e){console.log("error"),console.log(e)}})}function i(){if(!g&&!b){g=!0;var t=c.find("li").length-1;e.ajax({url:h,type:"POST",data:{offset:t},success:function(e){e.end?b=!0:(c.append(e),d=document.body.offsetHeight),g=!1},error:function(e){console.log("error"),console.log(e)}})}}function l(t){var n=e("#dialog");m!==t.type&&(m=t.type,n.find("#dialogLabel").text(t.title),n.find("#dialogText").text(t.text),t.button.length>1?(n.find("#modal-button1").show(),n.find("#modal-button1").text(t.button[0]),n.find("#modal-button2").text(t.button[1])):(n.find("#modal-button2").text(t.button[0]),n.find("#modal-button1").hide()),t.callBack?e("#modal-button1").click(function(e){t.callBack.apply(void 0,[e,n,t.paramCallBack])}):n.modal("hide")),t.show&&n.modal("show")}var c,a,r,u,s,d,h,f=!1,g=!1,b=!1;e(document).ready(function(){c=e("#user-list"),e("#delete-user").click(function(){var e=c.find('input[type="checkbox"]:checked');if(e.length>0){var n=e.length>1?"Möchten Sie die ausgewählten "+e.length+" Benutzer wirklich löschen?":"Möchten Sie den ausgewählten Benutzer wirklich löschen?",o={type:"userDelete",title:"Bentuzer löschen",text:n,button:["löschen","abbrechen"],callBack:t,show:!0};l(o)}else{var o={type:"userDeleteWarning",title:"Fehler",text:"Es wurden keine Benutzer ausgewählt",button:["weiter"],show:!0};l(o)}}),a=e("#search-user"),r=e("#search-user-submit"),u=r.data("searchurl"),a.keyup(function(t){n(e(this).val())}),r.click(function(){n(a.val())}),h=c.data("load"),s=window.innerHeight,d=document.body.offsetHeight;var o=0;window.onscroll=function(e){var t=window.scrollY;t>o&&s+window.scrollY>=d&&i(),o=t},e(window).resize(function(){s=this.innerHeight,d=document.body.offsetHeight});var f=null,g=c.find('input[type="checkbox"]');c.find("label").click(function(t){var n=e(this).parent().children("input")[0];if(!f)return console.log("init"),void(f=n);if(t.shiftKey){var o=g.index(n),i=g.index(f);g.slice(Math.min(o,i),Math.max(o,i)+1).prop("checked",f.checked)}f=n}),e("#show-search-user").click(function(t){t.preventDefault(),e("#user-search-box").slideToggle(200)})});var m=null}(jQuery);